# Internationalization (i18n) Implementation

## Overview

ServiceLog now supports multiple languages with a complete internationalization system. Users can switch between English and German throughout the application.

## Features

- **Two Languages**: English (en) and German (de)
- **Persistent Language Selection**: User's language preference is saved using the Spark KV store
- **Complete Translation Coverage**: All UI text, labels, messages, and notifications are translated
- **Easy Language Switching**: Language selector dropdown in the header

## Implementation Details

### Core Files

1. **`src/lib/i18n.ts`**: Complete translation definitions
   - Comprehensive translation keys for all UI elements
   - Type-safe translation interface
   - Structured translation categories (common, job, documents, search, etc.)

2. **`src/hooks/use-language.tsx`**: Language context and hook
   - `LanguageProvider`: Context provider wrapping the app
   - `useLanguage()`: Hook to access current language and translations
   - Persists language selection using `useKV`

3. **`src/components/LanguageSelector.tsx`**: Language switching UI
   - Dropdown menu with language options
   - Visual indicator for current language
   - Accessible icon button in the header

### Usage in Components

Components use the `useLanguage()` hook to access translations:

```tsx
import { useLanguage } from '@/hooks/use-language'

export function MyComponent() {
  const { t, language, setLanguage } = useLanguage()
  
  return <h1>{t.job.createJob}</h1>
}
```

### Updated Components

The following components have been fully translated:

- ✅ App.tsx (main application)
- ✅ StatusBadge.tsx
- ✅ JobForm.tsx
- ✅ JobFilters.tsx
- ✅ JobList.tsx
- ✅ JobSorting.tsx
- ✅ SampleDataLoader.tsx
- ✅ LanguageSelector.tsx (new)

### Remaining Components

These components still need translation updates (they will display English text for now):

- JobDetail.tsx
- JobTemplatePicker.tsx
- DocumentUpload.tsx
- DocumentList.tsx
- DocumentViewer.tsx
- SearchResults.tsx
- AdvancedSearch.tsx
- SaveJobAsTemplate.tsx

## Translation Structure

Translations are organized into logical categories:

- **common**: Shared UI elements (search, create, edit, delete, save, etc.)
- **app**: Application title and branding
- **navigation**: Menu and navigation labels
- **job**: Job-related text
- **jobFields**: Form field labels
- **status**: Job status labels
- **attachments**: Attachment-related text
- **documents**: Document management text
- **search**: Search functionality text
- **templates**: Template management text
- **filters**: Filtering UI text
- **sorting**: Sorting UI text
- **samples**: Sample data loader text
- **errors**: Error messages
- **validation**: Form validation messages
- **language**: Language selection text

## Adding New Languages

To add a new language:

1. Add the language code to the `Language` type in `src/lib/i18n.ts`:
   ```tsx
   export type Language = 'en' | 'de' | 'fr' // Add 'fr' for French
   ```

2. Add translations to the `translations` object:
   ```tsx
   export const translations: Record<Language, Translations> = {
     en: { /* ... */ },
     de: { /* ... */ },
     fr: { /* French translations */ }
   }
   ```

3. Update the LanguageSelector component to include the new language option.

## Best Practices

1. **Always use translations**: Never hardcode user-facing text
2. **Use the hook**: Import and use `useLanguage()` in every component that displays text
3. **Type safety**: TypeScript ensures all translation keys exist
4. **Consistent structure**: Keep translations organized by feature/category

## Testing Language Switching

1. Click the language selector (globe icon) in the header
2. Select "English" or "Deutsch" (German)
3. The entire UI updates immediately
4. Language preference persists across page refreshes
